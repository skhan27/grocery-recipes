<div *ngIf="recipe$ | async as recipe">
  <h1>{{ recipe.name }}</h1>
  <button (click)="editMode = !editMode">
    {{ editMode ? "Cancel" : "Edit" }}
  </button>
  <button (click)="onDelete()">Delete</button>
  <div *ngIf="!editMode">
    <h2>Ingredients</h2>
    <div>
      Scale this recipe:
      <input
        [formControl]="scaleControl"
        type="number"
        min="0.1"
        step="0.1"
        required
      />
    </div>
    <ul>
      <li *ngFor="let ingredient of recipe.items">
        {{ ingredient.amount.amount * (scaleControl.value ?? 1) }}
        {{ ingredient.amount.unit }} {{ ingredient.name }}
      </li>
    </ul>
    <h2>Instructions</h2>
    <p>
      {{ recipe.instructions }}
    </p>
    <h2>Notes</h2>
    <p>
      {{ recipe.notes }}
    </p>
  </div>
  <div *ngIf="editMode">
    <app-recipe-form
      [recipe]="recipe"
      [submitButtonText]="'Save Changes'"
      (formSubmit)="onSave($event)"
    ></app-recipe-form>
  </div>
</div>
